<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/blog.css">
    <link rel="stylesheet" href="./css/boardContent.css">
    <link rel="stylesheet" href="./css/containerFooter.css">
    <link rel="stylesheet" href="./css/contentContent.css">
    <link rel="stylesheet" href="./css/contentNotice.css">
    <link rel="stylesheet" href="./css/sidebarList.css">
    <link rel="stylesheet" href="./css/sidebarProfile.css">
    <link rel="stylesheet" href="./css/sidebarRecentReply.css">
    <link rel="stylesheet" href="./css/wrapperheadcontent.css">
    <script src="./js/blog.js"></script>
    <title>KEPCO A : Making Blog</title>
</head>
<body>
    <div class="blog-wrapper">
        <div class="blog-wrapperHead">
            <div class="blog-wrappernHeadContent">
                
                <th:block th:if="${session.user} == null">
                    <div class="wrapperheadcontent-wrapper">
                        <div class="wrapperheadcontent-toBlogHome">
                            <a href="/">Î∏îÎ°úÍ∑∏ Ìôà</a>
                        </div>
                        <div class="wrapperheadcontent-login">
                            <a onClick="login()"><button type="button">Î°úÍ∑∏Ïù∏</button></a>
                        </div>
                    </div>
                </th:block>
                <th:block th:if="${session.user} != null">
                    <div class="wrapperheadcontent-wrapper">
                        <div class="wrapperheadcontent-toBlogHome">
                            <a><strong>[[${session.user.name}]]</strong>Îãò ÌôòÏòÅÌï©ÎãàÎã§</a>
                        </div>
                        <div class="wrapperheadcontent-toBlogHome">
                            <a href="/">Î∏îÎ°úÍ∑∏ Ìôà</a>
                        </div>
                        <div class="wrapperheadcontent-login">
                            <a href="/logout"><button type="button">Î°úÍ∑∏ÏïÑÏõÉ</button></a>
                        </div>
                    </div>
                </th:block>

            </div>
        </div>
        <div class="blog-container">
            <div class="blog-containerHeader">
            <div class="blog-containerHeaderTitle">KEPCO A : Making Blog</div>
            </div>
            <div class="blog-containerMain">
                <div class="blog-containerSidebar">
                    <div class="blog-sidebarProfile">
                        <div class="sidebarprofile-wrapper">
                            <div class="sidebarprofile-profileImage">
                                <img src="./images/profilepic.png" alt="ProfileImage"></img>
                            </div>
                            <div class="sidebarprofile-profileName">ÏûÑÌÉúÌôò(lth0813)</div>
                            <div class="sidebarprofile-profileContent">KEPCO AÎ∞òÏóêÏÑú ÏàòÏóÖÏùÑ Îì£Í≥† ÏûàÎäî ÌïôÏÉùÏù¥ ÎßåÎìúÎäî Î∏îÎ°úÍ∑∏ÏûÖÎãàÎã§.<br/><br/>Í≥†ÏñëÏù¥Îäî Í∑ÄÏóΩÏäµÎãàÎã§.<br>Í∞ïÏïÑÏßÄÎèÑ Í∑ÄÏóΩÏäµÎãàÎã§.<br>ÌÜ†ÎÅºÎäî Ïûò Î™®Î•¥Í≤†ÏäµÎãàÎã§.
                            </div>
                            <div class="sidebarprofile-seeProfile">
                                <a class="sidebarproflie-openpopup" onClick="seeProfile()">ÌîÑÎ°úÌïÑ Î≥¥Í∏∞<span>‚ñ∂</span></a>
                            </div>
                        </div>
                    </div>
                    <div class="blog-sidebarList">
                        <div class="sidebarList-wrapper">
                            <div class="sidebarList-desc">Í≤åÏãúÌåê</div>
                            <div class="sidebarList-seeAll"><a href="/blogboardlist">Ï†ÑÏ≤¥Î≥¥Í∏∞<span class="allcount"> ([[${cntall[0].cnt}]])</span></a></div>
                            <div class="sidebarList-notice"><a href="/noticeboardlist">Í≥µÏßÄÏÇ¨Ìï≠<span class="allcount"> ([[${countnotice[0].cnt}]])</span></a></div>
                            <div class="sidebarList-bigList" th:each ="i : ${cntaforbt}"><span class="bigtopic">[[${i.bigtopic}]] <span class="btcnt">([[${i.cnt}]])</span></span>
                                <div class="updatebigtopic-wrapper">
                                    <form th:action="@{/blogbtupdateloading(bigseq=${i.bigseq})}" method="get">
                                        <input type="hidden" name="bigseq" th:value="${i.bigseq}">
                                        <div class="updatebigtopic-typetopic">
                                            <input type="text" name="bigtopic" th:value="${i.bigtopic}">
                                        </div>
                                        <div class="updatebigtopic-submitbutton">
                                            <button type="submit"></button>
                                        </div>
                                    </form>
                                </div>
                                
                                <th:block th:if="${session.user} != null">
                                    <th:block th:if="${session.user.id == 'lth0813'}">
                                        <div class="sidebarList-bigListbutton">
                                            <div class="sidebarList-bigListUpdate"><a>ÏàòÏ†ï</a></div>
                                            <div class="sidebarList-bigListDelete"><a th:href="@{/blogbtdeleteloading(bigseq=${i.bigseq})}">Ï†úÍ±∞</a></div>
                                        </div>
                                    </th:block>
                                </th:block>


                                <th:block th:each="j: ${cntaforst}">
                                    <th:block th:if="${i.bigseq} == ${j.bigseq}">
                                        <div class="sidebarList-smallList"><a th:href="@{/smallboardlist(smallseq=${j.smallseq})}"><span class="smalltopic">[[${j.smalltopic}]] <span class="stcnt">([[${j.cnt}]])</span></span></a></div>
                                        <div class="updatesmalltopic-wrapper">
                                            <form th:action="@{/blogstupdateloading(smallseq=${j.smallseq})}" method="get">
                                                <input type="hidden" name="smallseq" th:value="${j.smallseq}">
                                                <div class="updatesmalltopic-typetopic">
                                                    <input type="text" name="smalltopic" th:value="${j.smalltopic}">
                                                </div>
                                                <div class="updatesmalltopic-submitbutton">
                                                    <button type="submit"></button>
                                                </div>
                                            </form>
                                        </div>
                                        
                                    <th:block th:if="${session.user != null}">
                                        <th:block th:if="${session.user.id == 'lth0813'}">
                                            <div class="sidebarList-smallListbutton">
                                                <div class="sidebarList-smallListUpdate"><a>ÏàòÏ†ï</a></div>
                                                <div class="sidebarList-smallListDelete"><a th:href="@{/blogstdeleteloading(smallseq=${j.smallseq})}">Ï†úÍ±∞</a></div>
                                            </div>
                                        </th:block>
                                    </th:block>

                                    </th:block>
                                </th:block>
                                <div class="insertsmalltopic-wrapper">
                                    <form action="/blogstinsertloading" method="get">
                                        <input type="hidden" name="bigseq" th:value="${i.bigseq}">
                                        <div class="insertsmalltopic-typetopic">
                                            <input type="text" name="smalltopic">
                                        </div>
                                        <div class="insertsmalltopic-submitbutton">
                                            <button type="submit"></button>
                                        </div>
                                    </form>
                                </div>

                            <th:block th:if="${session.user} != null">    
                                <th:block th:if="${session.user.id == 'lth0813'}">
                                    <div class="sidebarList-smallListInsert"><a>ÏÜåÏ£ºÏ†ú Ï∂îÍ∞Ä</a></div>
                                </th:block>
                            </th:block>

                                <div class="makeline"></div>
                            </div>
                            <div class="sidebarList-line"></div>

                            <th:block th:if="${session.user} != null">
                                <th:block th:if="${session.user.id == 'lth0813'}">
                                    <div class="sidebarList-bigListInsert"><a>Ï£ºÏ†ú Ï∂îÍ∞Ä</a></div>
                                </th:block>
                            </th:block>

                            <div class="insertbigtopic-wrapper">
                                <form action="/blogbtinsertloading" method="get">
                                    <div class="insertbigtopic-typetopic">
                                        <input type="text" name="bigtopic">
                                    </div>
                                    <div class="insertbigtopic-submitbutton">
                                        <button type="submit"></button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="blog-sidebarRecentReply">
                        <div class="sidebarRecentReply-wrapper">
                            <div class="sidebarRecentReply-desc">ÏµúÍ∑º ÎåìÍ∏Ä</div>
                            <div class="sidebarRecentReply-smallList" th:each = "i : ${answers}"><a th:href="@{/blogboard(seq=${i.seq})}" th:style="'white-space:pre'">[[${i.content}]]</a></div>
                        </div>
                    </div>
                </div>
<!-- Ïó¨Í∏∞ÍπåÏßÄÎäî Îã§ Í∞ôÏùå -->
                
                <div class="blog-containerBox">
                    <div class="blog-containerContent">
                        <div class="blog-contentNotice">
                            <div class="contentNotice-wrapper">
                                <th:block th:each="n : ${notice5}">
                                    <div class="contentNotice-noticeList">
                                        <div class="contentNotice-notice">Í≥µÏßÄ</div>
                                        <div class="contentNotice-noticeTitle"><a th:href="@{/noticeboard(seq=${n.seq})}"><span style="font-weight:bold">[ÌïÑÎèÖ]</span> [[${n.title}]]</a></div>
                                        <div class="contentNotice-noticeDate">[[${n.date.toString().substring(0,11)}]]</div>
                                    </div>
                                </th:block>
                            </div>
                        </div>
                        <div class="blog-contentContent">
                                <div class="contentContent-wrapper">
                                    <div class="contentContent-row">
                                        <th:block th:each="ab : ${allboardto4}">
                                            <div class="contentContent-col">
                                                <a th:href="@{/blogboard(seq=${ab.seq})}">
                                                    <div class="contentContent-colImage">
                                                        <img th:src="${ab.image}" alt="ContentImage"/>
                                                    </div>
                                                    <div class="contentContent-colTitle">[[${ab.title}]]</div>
                                                </a>
                                                <div class="contentContent-coldiv3">
                                                    <div class="contentContent-colDate">[[${ab.date.toString().substring(0,11)}]]</div>
                                                    <div class="contentContent-colReply">üí¨ [[${ab.cnt}]]</div>
                                                </div>
                                            </div>
                                        </th:block>
                                    </div>
                                    <div class="contentContent-row">
                                        <th:block th:each="ab : ${allboard5to8}">
                                            <div class="contentContent-col">
                                                <a th:href="@{/blogboard(seq=${ab.seq})}">
                                                    <div class="contentContent-colImage">
                                                        <img th:src="${ab.image}" alt="ContentImage"/>
                                                    </div>
                                                    <div class="contentContent-colTitle">[[${ab.title}]]</div>
                                                </a>
                                                <div class="contentContent-coldiv3">
                                                    <div class="contentContent-colDate">[[${ab.date.toString().substring(0,11)}]]</div>
                                                    <div class="contentContent-colReply">üí¨ [[${ab.cnt}]]</div>
                                                </div>
                                            </div>
                                        </th:block>
                                    </div>
                                </div>
                            </div>
                    </div>
                    
                    <div class="blog-containerFooter">
                        <div class="containerFooter-wrapper">
                            <div class="containerFooter-main">Ï†ÑÏ≤¥ Í≤åÏãúÍ∏Ä <span class="gray">[[${cntall[0].cnt}]]Í∞úÏùò Í∏Ä</span></div>
                            <div class="containerFooter-desc">
                                <div class="containerFooter-descTitle">Í∏Ä Ï†úÎ™©</div>
                                <div class="containerFooter-descDate">ÏûëÏÑ±Ïùº</div>
                                <div class="containerFooter-searchcount">Ï°∞ÌöåÏàò</div>
                            </div>
                                <div class="containerFooter-boardList" th:each="i : ${paginatedPosts}">
                                    <div class="containerFooter-boardTitle"><a th:href="@{/blogboard(seq=${i.seq})}"><tmp th:text="${i.title}"></tmp><span class="red"> ([[${i.cnt}]])</span></a></div>
                                    <div class="containerFooter-boardDate" th:text="${i.date.toString().substring(0,11)}"></div>
                                    <div class="containerFooter-boardSC" th:text="${i.search_count}"></div>
                                </div>
                                <br>
                                <div class="pagination">
                                    <span th:if="${totalPages > 0}">
                                        <span th:each="pageNumber : ${#numbers.sequence(1, totalPages)}">
                                            <div class="pages" th:if="${currentPage} == ${pageNumber}" style="border:1px solid gray;">
                                                <a th:if="${currentPage} == ${pageNumber}" th:text="${pageNumber}" class="page" style="font-weight: bold;"></a>
                                            </div>
                                            <div class="pages" th:unless="${currentPage} == ${pageNumber}">
                                                <a th:unless="${currentPage} == ${pageNumber}" th:href="@{/(page=${pageNumber})}" th:text="${pageNumber}" class="page" style="color:gray"></a>
                                            </div>
                                        </span>
                                    </span>
                                </div>
                                
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="blog-emptySpace"></div>
    <div class="blog-Footer">¬© 2023 KEPCO A : Making Blog</div>
</body>
<script>
    document.querySelector(".blog-containerHeader").addEventListener("click",() => {
        location.href = "/";
    })
    // ÌîÑÎ°úÌïÑ Ï∞Ω Ï∂úÎ†•
    function seeProfile() {
        const left = (document.body.offsetWidth / 2) - (502 / 2)
        const top = (window.screen.height / 2) - (520 / 2)
        window.open("profile","profile","width=502, height=520,left="+left+",top="+top)
    }
    // Î°úÍ∑∏Ïù∏ Ï∞Ω Ï∂úÎ†•
    function login() {
        const left = (document.body.offsetWidth / 2) - (600 / 2)
        const top = (window.screen.height / 2) - (600 / 2)
        window.open("login","login","width=600, height=600,left="+left+",top="+top)
    }
</script>
</html>